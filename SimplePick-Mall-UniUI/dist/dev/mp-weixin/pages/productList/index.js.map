{"version":3,"file":"index.js","sources":["../../../../../src/pages/productList/index.vue","../../../../../uniPage:/cGFnZXMvcHJvZHVjdExpc3QvaW5kZXgudnVl"],"sourcesContent":["<script setup lang=\"ts\">\nimport { getHomeGoodsGuessLikeAPI } from '@/services/home'\nimport { onMounted, ref } from 'vue'\n\n// 获取页面参数\nconst query = defineProps<{\n  id: number\n  name: string\n}>()\n\n\nconst guessList = ref<any[]>([])\nconst getHomeGoodsGuessLikeData = async () => {\n  if (query.id) {\n    const res = await getHomeGoodsGuessLikeAPI({ categoryId: query.id, searchType: searchType.value })\n    guessList.value = res.data\n  }\n  if (query.name) {\n    const res = await getHomeGoodsGuessLikeAPI({ name: query.name, searchType: searchType.value })\n    guessList.value = res.data\n  }\n}\nonMounted(() => {\n  getHomeGoodsGuessLikeData()\n})\n\nlet selectedOption = ref(0)\nlet searchType = ref(0)\nlet tabShow = (showid: number, searchTypeID: number) => {\n  console.log(\"展示的是\" + showid + \",type是\" + searchTypeID);\n  selectedOption.value = showid\n  searchType.value = searchTypeID\n  guessList.value = []\n  getHomeGoodsGuessLikeData()\n}\n\n</script>\n\n<template>\n  <view class=\"caption\">\n    <navigator class=\"search\" url=\"/pages/seacher/index\">\n      <text class=\"icon-search\">搜索商品</text>\n      <text class=\"icon-scan\"></text>\n    </navigator>\n  </view>\n  <view class=\"shaixuan\">\n    <view :class=\"{ 'show': selectedOption === 0 }\">\n      <text @click=\"tabShow(0, 0)\">推荐</text>\n    </view>\n    <view :class=\"{ 'show': selectedOption === 1 }\">\n      <text @click=\"tabShow(1, 1)\">最新</text>\n    </view>\n    <view :class=\"{ 'show': selectedOption === 2 }\">\n      <text @click=\"tabShow(2, 2)\">销量</text>\n    </view>\n    <view :class=\"{ 'show': selectedOption === 4 }\">\n      <text @click=\"tabShow(4, 4)\">价格⬆</text>\n    </view>\n    <view :class=\"{ 'show': selectedOption === 5 }\">\n      <text @click=\"tabShow(5, 5)\">价格⬇</text>\n    </view>\n  </view>\n  <view class=\" guess\">\n    <navigator class=\"guess-item\" v-for=\"item in guessList\" :key=\"item.id\" :url=\"`/pages/goods/index?id=${item.id}`\">\n      <image class=\"image\" mode=\"aspectFill\" :src=\"item.pic\"></image>\n      <view class=\"name\"> {{ item.name }} </view>\n      <view class=\"price\">\n        <text class=\"small\">¥</text>\n        <text>{{ item.price }}</text>\n      </view>\n    </navigator>\n  </view>\n</template>\n\n<style lang=\"scss\">\n:host {\n  display: block;\n}\n\npage {\n  background-color: #f0efef;\n}\n\n.dropdown-menu {\n  position: absolute;\n  top: 30px;\n  /* 调整下拉菜单的位置 */\n  background-color: #fff;\n  border: 1px solid #ccc;\n  padding: 10px;\n}\n\n.menu-item {\n  padding: 8px;\n  cursor: pointer;\n}\n\n/* 分类标题 */\n.caption {\n  display: flex;\n  justify-content: center;\n  line-height: 1;\n  padding: 16rpx 0 20rpx 0rpx;\n  font-size: 32rpx;\n  color: #262626;\n\n  .search {\n    width: 90%;\n    background-color: #fff;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 0 10rpx 0 26rpx;\n    height: 64rpx;\n    margin: 0rpx 5rpx;\n    color: #242424;\n    font-size: 28rpx;\n    border-radius: 32rpx;\n\n    .icon-search {\n      &::before {\n        margin-right: 10rpx;\n      }\n    }\n\n    .icon-scan {\n      font-size: 30rpx;\n      padding: 15rpx;\n    }\n  }\n\n  .text {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 0 28rpx 0 30rpx;\n\n    &::before,\n    &::after {\n      content: '';\n      width: 20rpx;\n      height: 20rpx;\n      background-image: url(@/static/images/bubble.png);\n      background-size: contain;\n      margin: 0 10rpx;\n    }\n  }\n}\n\n//筛选\n.shaixuan {\n  display: flex;\n\n  .show {\n    color: #c95b5b;\n\n    .icon {}\n  }\n\n  view {\n    margin: 25rpx;\n    font-size: 32rpx;\n    color: #5c5c5c;\n  }\n}\n\n/* 猜你喜欢 */\n.guess {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  padding: 0 20rpx;\n\n  .guess-item {\n    width: 345rpx;\n    padding: 24rpx 20rpx 20rpx;\n    margin-bottom: 20rpx;\n    border-radius: 10rpx;\n    overflow: hidden;\n    background-color: #fff;\n  }\n\n  .image {\n    width: 304rpx;\n    height: 304rpx;\n  }\n\n  .name {\n    height: 75rpx;\n    margin: 10rpx 0;\n    font-size: 26rpx;\n    color: #262626;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    display: -webkit-box;\n    -webkit-line-clamp: 2;\n    -webkit-box-orient: vertical;\n  }\n\n  .price {\n    line-height: 1;\n    padding-top: 4rpx;\n    color: #cf4444;\n    font-size: 26rpx;\n  }\n\n  .small {\n    font-size: 80%;\n  }\n}\n\n// 加载提示文字\n.loading-text {\n  text-align: center;\n  font-size: 28rpx;\n  color: #666;\n  padding: 20rpx 0;\n}\n</style>\n","import MiniProgramPage from '/Users/gygy/Desktop/毕业设计/SimplePick-Mall-UniUI/src/pages/productList/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","getHomeGoodsGuessLikeAPI","onMounted"],"mappings":";;;;;;;;;;;;;;AAWM,UAAA,YAAYA,kBAAW,CAAA,CAAE;AAC/B,UAAM,4BAA4B,YAAY;AAC5C,UAAI,MAAM,IAAI;AACN,cAAA,MAAM,MAAMC,uCAAyB,EAAE,YAAY,MAAM,IAAI,YAAY,WAAW,MAAA,CAAO;AACjG,kBAAU,QAAQ,IAAI;AAAA,MACxB;AACA,UAAI,MAAM,MAAM;AACR,cAAA,MAAM,MAAMA,uCAAyB,EAAE,MAAM,MAAM,MAAM,YAAY,WAAW,MAAA,CAAO;AAC7F,kBAAU,QAAQ,IAAI;AAAA,MACxB;AAAA,IAAA;AAEFC,kBAAAA,UAAU,MAAM;AACY;IAAA,CAC3B;AAEG,QAAA,iBAAiBF,kBAAI,CAAC;AACtB,QAAA,aAAaA,kBAAI,CAAC;AAClB,QAAA,UAAU,CAAC,QAAgB,iBAAyB;AACtD,cAAQ,IAAI,SAAS,SAAS,WAAW,YAAY;AACrD,qBAAe,QAAQ;AACvB,iBAAW,QAAQ;AACnB,gBAAU,QAAQ;AACQ;IAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;AChC5B,GAAG,WAAW,eAAe;"}