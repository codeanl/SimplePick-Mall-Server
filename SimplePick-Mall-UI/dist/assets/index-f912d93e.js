/* empty css             *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                        *//* empty css                      *//* empty css                   *//* empty css                *//* empty css                     */import{b as M,c as z}from"./index-9b5cf40b.js";import{u as j}from"./setting-343fd123.js";import{d as A,a as i,aa as R,a7 as m,o as g,c as H,e,w as t,f as c,M as T,h as p,t as J,C as E,z as b,F as K,aj as Q,ak as W,m as X,n as Y,p as Z,a5 as $,al as ee,ah as te,am as ae,an as le,ao as oe,_ as se}from"./index-bc94ad6c.js";const ne=["src"],re=A({__name:"index",setup(ie){let w=j(),o=i(1),_=i(10),C=i(0),P=i(""),f=i([]),u=i(""),h=i([]),x=i([]);const L=r=>{x.value=r};R(()=>{d()});const d=async(r=1)=>{o.value=r;let a=await M(o.value,_.value,u.value);a.code==200?(C.value=a.total,f.value=a.data,m({type:"success",message:a.message})):m({type:"error",message:a.message})},U=()=>{d(),P.value=""},D=()=>{d()},V=async r=>{h.value.push(r);const a={ids:h.value};let s=await z(a);s.code==200?(m({type:"success",message:s.message}),d(f.value.length>1?o.value:o.value-1)):m({type:"error",message:s.message})},B=async()=>{h.value=x.value.map(s=>s.id);const r={ids:h.value};let a=await z(r);a.code===200?(m({type:"success",message:a.message}),d(f.value.length>1?o.value:o.value-1)):m({type:"error",message:a.message})},N=()=>{w.refresh=!w.refresh};return(r,a)=>{const s=Q,O=W,S=X,v=Y,q=Z,k=$,n=ee,y=te,F=ae,G=le,I=oe;return g(),H(K,null,[e(k,{style:{height:"80px"}},{default:t(()=>[e(q,{inline:!0,class:"form"},{default:t(()=>[e(S,{label:"请求方式:"},{default:t(()=>[e(O,{modelValue:c(u),"onUpdate:modelValue":a[0]||(a[0]=l=>T(u)?u.value=l:u=l),class:"m-2",placeholder:"请选择请求方式"},{default:t(()=>[e(s,{label:"GET",value:"GET"}),e(s,{label:"POST",value:"POST"}),e(s,{label:"DELETE",value:"DELETE"}),e(s,{label:"PUT",value:"PUT"})]),_:1},8,["modelValue"])]),_:1}),e(S,null,{default:t(()=>[e(v,{type:"primary",size:"default",onClick:U,disabled:!c(u).length},{default:t(()=>[p(" 搜索 ")]),_:1},8,["disabled"]),e(v,{size:"default",onClick:N},{default:t(()=>[p("重置")]),_:1})]),_:1})]),_:1})]),_:1}),e(k,null,{default:t(()=>[e(v,{type:"danger",size:"default",onClick:B,disabled:!c(x).length},{default:t(()=>[p(" 批量删除 ")]),_:1},8,["disabled"]),e(G,{border:"",data:c(f),onSelectionChange:L,style:{margin:"15px 0"}},{default:t(()=>[e(n,{type:"selection",align:"center",width:"40px"}),e(n,{label:"id",align:"center",prop:"id",width:"80px"}),e(n,{label:"头像",align:"center",prop:"avatar","show-overflow-tooltip":"",width:"60px"},{default:t(({row:l})=>[J("img",{src:l.avatar,alt:"头像",style:{width:"40px",height:"40px","border-radius":"50%"}},null,8,ne)]),_:1}),e(n,{label:"用户名字",align:"center",prop:"username","show-overflow-tooltip":""}),e(n,{label:"IP",align:"center",prop:"ip","show-overflow-tooltip":""}),e(n,{label:"请求方式",align:"center",prop:"type"},{default:t(({row:l})=>[l.method==="GET"?(g(),E(y,{key:0,class:"mx-1",type:"success",effect:"light"},{default:t(()=>[p(" GET ")]),_:1})):b("",!0),l.method==="POST"?(g(),E(y,{key:1,class:"mx-1",type:"warning",effect:"light"},{default:t(()=>[p(" POST ")]),_:1})):b("",!0),l.method==="DELETE"?(g(),E(y,{key:2,class:"mx-1",type:"danger",effect:"light"},{default:t(()=>[p(" DELETE ")]),_:1})):b("",!0),l.method==="PUT"?(g(),E(y,{key:3,class:"mx-1",type:"warning",effect:"light"},{default:t(()=>[p(" PUT ")]),_:1})):b("",!0)]),_:1}),e(n,{label:"请求内容",align:"center",prop:"operation","show-overflow-tooltip":""}),e(n,{label:"创建时间",align:"center",prop:"createTime","show-overflow-tooltip":""}),e(n,{label:"操作",align:"center"},{default:t(({row:l})=>[e(F,{title:`你确定删除${l.username}`,width:"260px",onConfirm:pe=>V(l.id)},{reference:t(()=>[e(v,{type:"danger",size:"small",icon:"Delete"},{default:t(()=>[p(" 删除 ")]),_:1})]),_:2},1032,["title","onConfirm"])]),_:1})]),_:1},8,["data"]),e(I,{"current-page":c(o),"onUpdate:currentPage":a[1]||(a[1]=l=>T(o)?o.value=l:o=l),"page-size":c(_),"onUpdate:pageSize":a[2]||(a[2]=l=>T(_)?_.value=l:_=l),"page-sizes":[5,10,15,20],background:!0,layout:"prev, pager, next, jumper, -> , sizes, total",total:c(C),onCurrentChange:d,onSizeChange:D},null,8,["current-page","page-size","total"])]),_:1})],64)}}});const we=se(re,[["__scopeId","data-v-80f6cd2e"]]);export{we as default};
