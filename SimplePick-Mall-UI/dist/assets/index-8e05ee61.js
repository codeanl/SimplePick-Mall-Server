/* empty css             *//* empty css                *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                        *//* empty css                      *//* empty css                   */import{r as q,a as v}from"./index-9b5cf40b.js";import{d as B,a as r,aa as N,a7 as p,o as P,C as T,w as i,e as a,f as d,h as b,t as D,M as h,n as I,al as M,am as U,an as V,ao as A,a5 as R,_ as j}from"./index-bc94ad6c.js";const H=["src"],F=B({__name:"index",setup(G){let t=r(1),c=r(10),f=r(0),g=r([]),w=r(""),m=r([]),_=r([]);const x=s=>{_.value=s};N(()=>{u()});const u=async(s=1)=>{t.value=s;let e=await q(t.value,c.value,w.value);e.code==200?(p({type:"success",message:e.message}),f.value=e.total,g.value=e.data):p({type:"error",message:e.message})},y=()=>{u()},C=async s=>{m.value.push(s);const e={ids:m.value};let l=await v(e);l.code==200?(p({type:"success",message:l.message}),u(g.value.length>1?t.value:t.value-1)):p({type:"error",message:l.message})},z=async()=>{m.value=_.value.map(l=>l.id);const s={ids:m.value};let e=await v(s);e.code===200?(p({type:"success",message:e.message}),u(g.value.length>1?t.value:t.value-1)):p({type:"error",message:e.message})};return(s,e)=>{const l=I,n=M,E=U,L=V,S=A,k=R;return P(),T(k,null,{default:i(()=>[a(l,{type:"danger",size:"default",onClick:z,disabled:!d(_).length},{default:i(()=>[b(" 批量删除 ")]),_:1},8,["disabled"]),a(L,{border:"",data:d(g),onSelectionChange:x,style:{margin:"15px 0"}},{default:i(()=>[a(n,{type:"selection",align:"center",width:"40px"}),a(n,{label:"id",align:"center",prop:"id",width:"80px"}),a(n,{label:"头像",align:"center",prop:"avatar","show-overflow-tooltip":"",width:"60px"},{default:i(({row:o})=>[D("img",{src:o.avatar,alt:"头像",style:{width:"40px",height:"40px","border-radius":"50%"}},null,8,H)]),_:1}),a(n,{label:"用户名字",align:"center",prop:"username","show-overflow-tooltip":""}),a(n,{label:"IP",align:"center",prop:"ip","show-overflow-tooltip":""}),a(n,{label:"创建时间",align:"center",prop:"createTime","show-overflow-tooltip":""}),a(n,{label:"操作",align:"center"},{default:i(({row:o})=>[a(E,{title:`你确定删除${o.username}`,width:"260px",onConfirm:J=>C(o.id)},{reference:i(()=>[a(l,{type:"danger",size:"small",icon:"Delete"},{default:i(()=>[b(" 删除 ")]),_:1})]),_:2},1032,["title","onConfirm"])]),_:1})]),_:1},8,["data"]),a(S,{"current-page":d(t),"onUpdate:currentPage":e[0]||(e[0]=o=>h(t)?t.value=o:t=o),"page-size":d(c),"onUpdate:pageSize":e[1]||(e[1]=o=>h(c)?c.value=o:c=o),"page-sizes":[5,10,15,20],background:!0,layout:"prev, pager, next, jumper, -> , sizes, total",total:d(f),onCurrentChange:u,onSizeChange:y},null,8,["current-page","page-size","total"])]),_:1})}}});const se=j(F,[["__scopeId","data-v-32bb666d"]]);export{se as default};
